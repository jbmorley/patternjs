<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>pattern.js</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <link id="theme" rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script src="utilities.js"></script>
    <script>

        function onDocumentReady(callback) {
            document.addEventListener('DOMContentLoaded', callback, false);
        }

        function onResize(element, callback) {
                var parent = element.parentElement;
                var resizeCallback = function() {
                    callback(element, parent.clientWidth, parent.clientHeight);
                }
                window.addEventListener('resize', resizeCallback, false);
                resizeCallback();
        }

        function initialize(id, height, renderer) {
            Utilities.onDocumentReady(function() {

                var container = document.getElementById(id);
                var pattern = document.createElement('canvas');
                pattern.classList.add('pattern');
                container.appendChild(pattern);
                renderer(pattern);

                var div = document.createElement('div');
                div.classList.add('content');
                div.classList.add('meta');
                container.appendChild(div);

                div.appendChild(Utilities.downloadButton(id,
                                                         window.screen.width * window.devicePixelRatio,
                                                         window.screen.height * window.devicePixelRatio,
                                                         "Download Desktop",
                                                         renderer));
                div.appendChild(Utilities.downloadButton(id,
                                                         600 * window.devicePixelRatio,
                                                         400 * window.devicePixelRatio,
                                                         "Download Sample",
                                                         renderer));
                
                onResize(pattern, function(canvas, parentWidth, parentHeight) {
                    canvas.width = parentWidth * window.devicePixelRatio;
                    canvas.height = height * window.devicePixelRatio;
                    canvas.style.width = parentWidth + 'px';
                    canvas.style.height = height + 'px';
                    renderer(canvas);
                });
            });
        }

    </script>
</head>
<body>

<h1>pattern.js</h1>

<h2>麻の葉, Asa no ha</h2>
<div id="asanoha" class="pattern-container"></div>
<script type="text/javascript">
    initialize('asanoha', 300, function(canvas) {
        Pattern.asanoha({
            canvas: canvas,
            style: Pattern.styles.darkBlue,
            lineDrawer: Pattern.drawers.line(2),
        });
    });
</script>
<pre><code class="javascript">Pattern.asanoha({
    canvas: canvas,
    style: Pattern.styles.darkBlue,
    lineDrawer: Pattern.drawers.line(2),
});</code></pre>

<div id="asanoha-dots" class="pattern-container"></div>
<script type="text/javascript">
    initialize('asanoha-dots', 300, function(canvas) {
        Pattern.asanoha({
            canvas: canvas,
            style: Pattern.styles.darkRed,
            lineDrawer: Pattern.drawers.dottedLine(2, 8),
        });
    });
</script>
<pre><code class="javascript">Pattern.asanoha({
    canvas: canvas,
    style: Pattern.styles.darkRed,
    lineDrawer: Pattern.drawers.dottedLine(2, 8),
});</code></pre>

<h2>七宝, Shippou</h2>
<div id="circles" class="pattern-container"></div>
<script type="text/javascript">
    initialize('circles', 300, function(canvas) {
        Pattern.shippou({
            canvas: canvas,
            style: Pattern.styles.purple,
        });
    });
</script>
<pre><code class="javascript">Pattern.shippou({
    canvas: canvas,
    style: Pattern.styles.purple,
});</code></pre>

<h2>青海波, Seigaiha</h2>

<div id="waves" class="pattern-container"></div>
<script type="text/javascript">
    initialize('waves', 300, function(canvas) {
        Pattern.seigaiha({
            canvas: canvas,
            style: Pattern.styles.monochrome,
            lineWidth: 3,
            radius: 55,
            gap: 10,
            count: 5,
            alternating: false,
        });
    });
</script>
<pre><code class="javascript">Pattern.seigaiha({
    canvas: canvas,
    style: Pattern.styles.monochrome,
    lineWidth: 3,
    radius: 55,
    gap: 10,
    count: 5,
    alternating: false,
});</code></pre>

<div id="waves-light" class="pattern-container"></div>
<script type="text/javascript">
    initialize('waves-light', 300, function(canvas) {
        Pattern.seigaiha({
            canvas: canvas, 
            style: Pattern.styles.sky,
            lineWidth: 2, 
            radius: 80,
            gap: 7, 
            count: 11,
            alternating: false,
        });
    });
</script>
<pre><code class="javascript">Pattern.seigaiha({
    canvas: canvas, 
    style: Pattern.styles.sky,
    lineWidth: 2, 
    radius: 80,
    gap: 7, 
    count: 11,
    alternating: false,
});</code></pre>

<div id="waves-inverted" class="pattern-container"></div>
<script type="text/javascript">
    initialize('waves-inverted', 300, function(canvas) {
        Pattern.seigaiha({
            canvas: canvas,
            style: Pattern.styles.blues,
            lineWidth: 3,
            radius: 44,
            gap: 8,
            count: 5,
            alternating: true
        });
    });
</script>
<pre><code class="javascript">Pattern.seigaiha({
    canvas: canvas,
    style: Pattern.styles.blues,
    lineWidth: 3,
    radius: 44,
    gap: 8,
    count: 5,
    alternating: true
});</code></pre>

<h2>Unknown 1</h2>

<div id="unknown1" class="pattern-container"></div>
<script type="text/javascript">    
    initialize('unknown1', 300, function(canvas) {
        Pattern.unknown1({
            canvas: canvas,
            style: Pattern.styles.purples,
            step: 10,
        });
    });
</script>
<pre><code class="javascript">Pattern.unknown1({
    canvas: canvas,
    style: Pattern.styles.purples,
    step: 10,
});</code></pre>

<h2>Unknown 2</h2>

<div id="unknown2" class="pattern-container"></div>
<script type="text/javascript">
    initialize('unknown2', 300, function(canvas) {
        Pattern.unknown2({
            canvas: canvas,
            style: Pattern.styles.monochrome,
        });
    });
</script>
<pre><code class="javascript">Pattern.unknown2({
    canvas: canvas,
    style: Pattern.styles.monochrome,
});</code></pre>

<p class="copyright">
    Copyright &copy; Jason Barrie Morley 2019
</p>

<script src="pattern.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>