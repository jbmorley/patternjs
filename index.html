<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Patterns</title>
    <link id="theme" rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>

        function prepareForRetina(canvas) {
            if (window.devicePixelRatio > 1) {
                var canvasWidth = canvas.width;
                var canvasHeight = canvas.height;

                canvas.width = canvasWidth * window.devicePixelRatio;
                canvas.height = canvasHeight * window.devicePixelRatio;
                canvas.style.width = canvasWidth + 'px';
                canvas.style.height = canvasHeight + 'px';

                canvas.getContext('2d').scale(window.devicePixelRatio, window.devicePixelRatio);
            }
        }

        function addDownload(canvas) {
            canvas.onclick = function() {
                window.open(canvas.toDataURL('image/png'));
            };
        }

        function prepareCanvas(canvas) {
            prepareForRetina(canvas);
            addDownload(canvas);
        }

        function draw() {

            var canvas = document.getElementById('asanoha');
            prepareCanvas(canvas);
            if (canvas.getContext) {
                Patterns.drawAsaNoHa({
                    context: canvas.getContext('2d'),
                    x: 0,
                    y: 0,
                    width: canvas.width,
                    height: canvas.height,
                    style: Patterns.styles.darkBlue,
                    lineDrawer: Patterns.drawers.line(2),
                });
            }

            var canvas = document.getElementById('asanoha-dots');
            prepareCanvas(canvas);
            if (canvas.getContext) {
                Patterns.drawAsaNoHa({
                    context: canvas.getContext('2d'),
                    x: 0,
                    y: 0,
                    width: canvas.width,
                    height: canvas.height,
                    style: Patterns.styles.darkRed,
                    lineDrawer: Patterns.drawers.dottedLine(2, 8),
                });
            }

            var canvas = document.getElementById('circles');
            prepareCanvas(canvas);
            if (canvas.getContext) {
                Patterns.drawShippou(canvas.getContext('2d'), 0, 0, canvas.width, canvas.height);
            }

            var canvas = document.getElementById('waves');
            prepareCanvas(canvas);
            if (canvas.getContext) {
                Patterns.drawWaves({
                    context: canvas.getContext('2d'),
                    x: 0,
                    y: 0,
                    width: canvas.width,
                    height: canvas.height,
                    style: Patterns.styles.monochrome,
                    lineWidth: 3,
                    radius: 55,
                    gap: 10,
                    count: 5,
                    alternating: false,
                });
            }

            var canvas = document.getElementById('waves-light');
            prepareCanvas(canvas);
            if (canvas.getContext) {
                Patterns.drawWaves({
                    context: canvas.getContext('2d'),
                    x: 0, 
                    y: 0, 
                    width: canvas.width, 
                    height: canvas.height, 
                    style: Patterns.styles.sky,
                    lineWidth: 2, 
                    radius: 80,
                    gap: 7, 
                    count: 11,
                    alternating: false,
                 });
            }

            var canvas = document.getElementById('waves-inverted');
            prepareCanvas(canvas);
            if (canvas.getContext) {
                Patterns.drawWaves({
                    context: canvas.getContext('2d'),
                    x: 0,
                    y: 0,
                    width: canvas.width,
                    height: canvas.height,
                    style: Patterns.styles.blues,
                    lineWidth: 3,
                    radius: 44,
                    gap: 8,
                    count: 5,
                    alternating: true
                });
            }

        };
    </script>
</head>
<body onload="draw()">

<h1>Patterns</h1>

<h2>麻の葉, Asa no ha</h2>
<canvas class="pattern" id="asanoha" width="600" height="400"></canvas>
<pre><code class="javascript">Patterns.drawAsaNoHa({
    context: canvas.getContext('2d'),
    x: 0,
    y: 0,
    width: canvas.width,
    height: canvas.height,
    style: Patterns.styles.darkBlue,
    lineDrawer: Patterns.drawers.line(2),
});
</code></pre>

<canvas class="pattern" id="asanoha-dots" width="600" height="400"></canvas>
<pre><code class="javascript">Patterns.drawAsaNoHa({
    context: canvas.getContext('2d'),
    x: 0,
    y: 0,
    width: canvas.width,
    height: canvas.height,
    style: Patterns.styles.darkRed,
    lineDrawer: Patterns.drawers.dottedLine(2, 8),
});
</code></pre>

<h2>七宝, Shippou</h2>
<canvas class="pattern" id="circles" width="600" height="400"></canvas>

<h2>Waves</h2>
<canvas class="pattern" id="waves" width="600" height="400"></canvas>
<canvas class="pattern" id="waves-light" width="600" height="400"></canvas>
<canvas class="pattern" id="waves-inverted" width="600" height="400"></canvas>

<script src="patterns.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>