<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Patterns</title>
    <link id="theme" rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
    <script>

        function onDocumentReady(callback) {
            document.addEventListener('DOMContentLoaded', callback, false);
        }

        function onResize(element, callback) {
                var parent = element.parentElement;
                var resizeCallback = function() {
                    callback(element, parent.clientWidth, parent.clientHeight);
                }
                window.addEventListener('resize', resizeCallback, false);
                resizeCallback();
        }

        function makeResizingCanvas(id, height, callback) {
            onDocumentReady(function() {
                onResize(document.getElementById(id), function(canvas, parentWidth, parentHeight) {
                    canvas.width = parentWidth * window.devicePixelRatio;
                    canvas.height = height * window.devicePixelRatio;
                    canvas.style.width = parentWidth + 'px';
                    canvas.style.height = height + 'px';
                    callback(canvas);
                });
            });
        }

        function addDownload(canvas) {
            canvas.onclick = function() {
                window.open(canvas.toDataURL('image/png'));
            };
        }

    </script>
</head>
<body>

<h1>Patterns</h1>

<h2>麻の葉, Asa no ha</h2>
<canvas class="pattern" id="asanoha" width="600" height="400"></canvas>
<script type="text/javascript">
    makeResizingCanvas('asanoha', 300, function(canvas) {
        Patterns.drawAsaNoHa({
            canvas: canvas,
            style: Patterns.styles.darkBlue,
            lineDrawer: Patterns.drawers.line(2),
        });
    });
</script>
<pre><code class="javascript">Patterns.drawAsaNoHa({
    canvas: canvas,
    style: Patterns.styles.darkBlue,
    lineDrawer: Patterns.drawers.line(2),
});</code></pre>

<canvas class="pattern" id="asanoha-dots" width="600" height="400"></canvas>
<script type="text/javascript">
    makeResizingCanvas('asanoha-dots', 300, function(canvas) {
        Patterns.drawAsaNoHa({
            canvas: canvas,
            style: Patterns.styles.darkRed,
            lineDrawer: Patterns.drawers.dottedLine(2, 8),
        });
    });
</script>
<pre><code class="javascript">Patterns.drawAsaNoHa({
    canvas: canvas,
    style: Patterns.styles.darkRed,
    lineDrawer: Patterns.drawers.dottedLine(2, 8),
});</code></pre>

<h2>七宝, Shippou</h2>
<canvas class="pattern" id="circles" width="600" height="400"></canvas>
<script type="text/javascript">
    makeResizingCanvas('circles', 300, function(canvas) {
        Patterns.drawShippou({
            canvas: canvas,
        });
    });
</script>
<pre><code class="javascript">Patterns.drawShippou({
    canvas: canvas,
});</code></pre>

<h2>Waves</h2>

<canvas class="pattern" id="waves" width="600" height="400"></canvas>
<script type="text/javascript">
    makeResizingCanvas('waves', 300, function(canvas) {
        Patterns.drawWaves({
            context: canvas.getContext('2d'),
            x: 0,
            y: 0,
            width: canvas.width,
            height: canvas.height,
            style: Patterns.styles.monochrome,
            lineWidth: 3,
            radius: 55,
            gap: 10,
            count: 5,
            alternating: false,
        });
    });
</script>
<pre><code class="javascript">Patterns.drawWaves({
    context: canvas.getContext('2d'),
    x: 0,
    y: 0,
    width: canvas.width,
    height: canvas.height,
    style: Patterns.styles.monochrome,
    lineWidth: 3,
    radius: 55,
    gap: 10,
    count: 5,
    alternating: false,
});</code></pre>

<canvas class="pattern" id="waves-light" width="600" height="400"></canvas>
<script type="text/javascript">
    makeResizingCanvas('waves-light', 300, function(canvas) {
        Patterns.drawWaves({
            context: canvas.getContext('2d'),
            x: 0, 
            y: 0, 
            width: canvas.width, 
            height: canvas.height, 
            style: Patterns.styles.sky,
            lineWidth: 2, 
            radius: 80,
            gap: 7, 
            count: 11,
            alternating: false,
         });
    });
</script>
<pre><code class="javascript">Patterns.drawWaves({
    context: canvas.getContext('2d'),
    x: 0, 
    y: 0, 
    width: canvas.width, 
    height: canvas.height, 
    style: Patterns.styles.sky,
    lineWidth: 2, 
    radius: 80,
    gap: 7, 
    count: 11,
    alternating: false,
});</code></pre>

<canvas class="pattern" id="waves-inverted" width="600" height="400"></canvas>
<script type="text/javascript">
    makeResizingCanvas('waves-inverted', 300, function(canvas) {
        Patterns.drawWaves({
            context: canvas.getContext('2d'),
            x: 0,
            y: 0,
            width: canvas.width,
            height: canvas.height,
            style: Patterns.styles.blues,
            lineWidth: 3,
            radius: 44,
            gap: 8,
            count: 5,
            alternating: true
        });
    });
</script>
<pre><code class="javascript">Patterns.drawWaves({
    context: canvas.getContext('2d'),
    x: 0,
    y: 0,
    width: canvas.width,
    height: canvas.height,
    style: Patterns.styles.blues,
    lineWidth: 3,
    radius: 44,
    gap: 8,
    count: 5,
    alternating: true
});</code></pre>

<script src="patterns.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>